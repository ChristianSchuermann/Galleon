{"ast":null,"code":"var _jsxFileName = \"/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Pages/EditExpense.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5005\";\n\nfunction EditExpensePage(props) {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [expense, setExpense] = useState(0);\n  const [category, setCategory] = useState(\"\");\n  const {\n    expenseID\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.get(`${API_URL}/api/expense/${expenseID}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      const oneExpense = response.data;\n      setTitle(oneExpense.title);\n      setDescription(oneExpense.description);\n      setExpense(oneExpense.expense);\n      setCategory(oneExpense.category);\n    }).catch(error => console.log(error));\n  }, [expenseID]);\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    const requestBody = {\n      title,\n      description,\n      expense,\n      category\n    };\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.put(`${API_URL}/api/expense/${expenseID}`, requestBody, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      navigate(`/expense/${expenseID}`);\n    });\n  };\n\n  const deleteExpense = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.delete(`${API_URL}/api/expense/${expenseID}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(() => {\n      navigate(\"/expense\");\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Edit the Expense\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Expense:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"expense\",\n        value: expense,\n        onChange: e => setExpense(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Category:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"category\",\n        value: category,\n        onChange: e => setCategory(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Expense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deleteExpense,\n      children: \"Delete Expense\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditExpensePage, \"f5wal2uGBjzuuFRX1H0sDZzOftA=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditExpensePage;\nexport default EditExpensePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditExpensePage\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","API_URL","EditExpensePage","props","title","setTitle","description","setDescription","expense","setExpense","category","setCategory","expenseID","navigate","storedToken","localStorage","getItem","get","headers","Authorization","then","response","oneExpense","data","catch","error","console","log","handleFormSubmit","e","preventDefault","requestBody","put","deleteExpense","delete","err","target","value"],"sources":["/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Pages/EditExpense.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:5005\";\n\nfunction EditExpensePage(props) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [expense, setExpense] = useState(0);\n  const [category, setCategory] = useState(\"\");\n\n  const { expenseID } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .get(`${API_URL}/api/expense/${expenseID}`, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        const oneExpense = response.data;\n        setTitle(oneExpense.title);\n        setDescription(oneExpense.description);\n        setExpense(oneExpense.expense);\n        setCategory(oneExpense.category);\n      })\n      .catch((error) => console.log(error));\n  }, [expenseID]);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    const requestBody = { title, description, expense, category };\n    const storedToken = localStorage.getItem(\"authToken\");\n\n    axios\n      .put(`${API_URL}/api/expense/${expenseID}`, requestBody, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        navigate(`/expense/${expenseID}`);\n      });\n  };\n\n  const deleteExpense = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .delete(`${API_URL}/api/expense/${expenseID}`, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then(() => {\n        navigate(\"/expense\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div>\n      <h3>Edit the Expense</h3>\n\n      <form onSubmit={handleFormSubmit}>\n        <label>Title:</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n\n        <label>Description:</label>\n        <textarea\n          name=\"description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        <label>Expense:</label>\n        <textarea\n          name=\"expense\"\n          value={expense}\n          onChange={(e) => setExpense(e.target.value)}\n        />\n\n        <label>Category:</label>\n        <textarea\n          name=\"category\"\n          value={category}\n          onChange={(e) => setCategory(e.target.value)}\n        />\n\n        <button type=\"submit\">Update Expense</button>\n      </form>\n\n      <button onClick={deleteExpense}>Delete Expense</button>\n    </div>\n  );\n}\n\nexport default EditExpensePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}