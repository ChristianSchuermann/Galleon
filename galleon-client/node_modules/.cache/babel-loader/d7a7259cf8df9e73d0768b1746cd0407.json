{"ast":null,"code":"var _jsxFileName = \"/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Components/ExpenseCard.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { Dropdown } from \"react-dropdown-now\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5005\"; // We are deconstructing props object directly in the parentheses of the function\n\nfunction ExpenseCard(_ref) {\n  _s();\n\n  let {\n    expenseTitle,\n    expenseDescription,\n    expenseValue,\n    expenseCategory,\n    expenseId\n  } = _ref;\n  const [editDisabled, setEditDisabled] = useState(true);\n  const [title, setTitle] = useState(expenseTitle);\n  const [expense, setExpense] = useState(expenseValue);\n  const [category, setCategory] = useState([expenseCategory]);\n\n  const submitExpense = e => {\n    e.preventDefault();\n    setEditDisabled(true);\n    const requestBody = {\n      title,\n      category,\n      expense\n    };\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.put(`${API_URL}/api/expense/${expenseId}`, requestBody, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      // the api should return the updated object (expense))\n      const updatedExpense = response.data;\n      setTitle(updatedExpense.title);\n      setCategory(updatedExpense.category);\n      setExpense(updatedExpense.expense);\n    }).catch(error => console.log(error));\n  };\n\n  const deleteExpense = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.delete(`${API_URL}/api/expense/${expenseId}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(() => {}).catch(err => console.log(err));\n  };\n\n  const toggleEdit = e => {\n    e.preventDefault();\n    setEditDisabled(false);\n  };\n\n  const changeTitle = e => {\n    e.preventDefault();\n    setTitle(e.target.value);\n  };\n\n  const changeExpense = e => {\n    e.preventDefault();\n    setExpense(e.target.value);\n  };\n\n  const changeCategory = e => {\n    setCategory(e.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-52 m-5  border-2 border-red-400  \",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col pr-2 pl-2 my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            size: \"16\",\n            disabled: editDisabled,\n            value: title,\n            onChange: changeTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            maxlength: \"6\",\n            size: \"6\",\n            disabled: editDisabled,\n            value: expense,\n            onChange: changeExpense\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n          disabled: editDisabled,\n          placeholder: category,\n          options: [\"Rent\", \"Food\", \"Bills\", \"Shopping\", \"Transportation\", \"Entertainment\", \"other...\"],\n          value: category,\n          onChange: value => changeCategory(value),\n          onSelect: value => changeCategory(value),\n          onClose: closedBySelection => console.log(\"closedBySelection?:\", closedBySelection),\n          onOpen: () => console.log(\"open!\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), editDisabled ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-red px-3 py-1 mb-2 mt-2 text-white flex justify-center  bg-[#FD3C4A]  font-bold \",\n        onClick: toggleEdit,\n        children: \"Edit Expense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [editDisabled ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-green\",\n          onClick: submitExpense,\n          children: \"Submit Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), editDisabled ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-red\",\n          onClick: deleteExpense,\n          children: \"Delete Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(ExpenseCard, \"V+dzOD0Nafne9xiPDz6fDg3pe/U=\");\n\n_c = ExpenseCard;\nexport default ExpenseCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExpenseCard\");","map":{"version":3,"names":["useState","axios","Dropdown","API_URL","ExpenseCard","expenseTitle","expenseDescription","expenseValue","expenseCategory","expenseId","editDisabled","setEditDisabled","title","setTitle","expense","setExpense","category","setCategory","submitExpense","e","preventDefault","requestBody","storedToken","localStorage","getItem","put","headers","Authorization","then","response","updatedExpense","data","catch","error","console","log","deleteExpense","delete","err","toggleEdit","changeTitle","target","value","changeExpense","changeCategory","closedBySelection"],"sources":["/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Components/ExpenseCard.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n\nimport { Dropdown } from \"react-dropdown-now\";\n\nconst API_URL = \"http://localhost:5005\";\n\n// We are deconstructing props object directly in the parentheses of the function\nfunction ExpenseCard({\n  expenseTitle,\n  expenseDescription,\n  expenseValue,\n  expenseCategory,\n  expenseId,\n}) {\n  const [editDisabled, setEditDisabled] = useState(true);\n\n  const [title, setTitle] = useState(expenseTitle);\n  const [expense, setExpense] = useState(expenseValue);\n  const [category, setCategory] = useState([expenseCategory]);\n\n  const submitExpense = (e) => {\n    e.preventDefault();\n    setEditDisabled(true);\n\n    const requestBody = { title, category, expense };\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .put(`${API_URL}/api/expense/${expenseId}`, requestBody, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        // the api should return the updated object (expense))\n        const updatedExpense = response.data;\n        setTitle(updatedExpense.title);\n        setCategory(updatedExpense.category);\n        setExpense(updatedExpense.expense);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const deleteExpense = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .delete(`${API_URL}/api/expense/${expenseId}`, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then(() => { })\n      .catch((err) => console.log(err));\n  };\n\n  const toggleEdit = (e) => {\n    e.preventDefault();\n    setEditDisabled(false);\n  };\n\n  const changeTitle = (e) => {\n    e.preventDefault();\n    setTitle(e.target.value);\n  };\n\n  const changeExpense = (e) => {\n    e.preventDefault();\n    setExpense(e.target.value);\n  };\n\n  const changeCategory = (e) => {\n\n    setCategory(e.value);\n  };\n\n\n  return (\n    <>\n      <div className=\"w-52 m-5  border-2 border-red-400  \">\n        <form className=\"flex flex-col pr-2 pl-2 my-2\">\n          <div className=\"flex\">\n            <input  \n              size=\"16\" disabled={editDisabled} value={title} onChange={changeTitle} />\n\n            <input\n              maxlength=\"6\" \n              size=\"6\"\n              disabled={editDisabled}\n              value={expense}\n              onChange={changeExpense}\n            />\n          </div>\n\n          <Dropdown\n            disabled={editDisabled}\n            placeholder={category}\n            options={[\"Rent\", \"Food\", \"Bills\", \"Shopping\", \"Transportation\", \"Entertainment\", \"other...\"]}\n            value={category}\n            onChange={(value) => changeCategory(value)}\n            onSelect={(value) => changeCategory(value)}\n            onClose={(closedBySelection) =>\n              console.log(\"closedBySelection?:\", closedBySelection)\n            }\n            onOpen={() => console.log(\"open!\")}\n          />\n        </form>\n        {editDisabled ? <button className=\"btn-red px-3 py-1 mb-2 mt-2 text-white flex justify-center  bg-[#FD3C4A]  font-bold \" onClick={toggleEdit}>Edit Expense</button> : null}\n        <div className=\"flex\">\n        {editDisabled ? null : (\n          <button className=\"btn-green\" onClick={submitExpense}>Submit Expense</button>\n\n        )}\n        {editDisabled ? null : (\n          <button className=\"btn-red\" onClick={deleteExpense}>Delete Expense</button>\n        )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default ExpenseCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}