{"ast":null,"code":"var _jsxFileName = \"/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Components/IncomeCard.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { Dropdown } from \"react-dropdown-now\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5005\"; // We are deconstructing props object directly in the parentheses of the function\n\nfunction IncomeCard(_ref) {\n  _s();\n\n  let {\n    incomeTitle,\n    incomeValue,\n    incomeCategory,\n    incomeId\n  } = _ref;\n  const [editDisabled, setEditDisabled] = useState(true);\n  const [title, setTitle] = useState(incomeTitle);\n  const [income, setIncome] = useState(incomeValue);\n  const [category, setCategory] = useState(incomeCategory);\n\n  const submitIncome = e => {\n    e.preventDefault();\n    setEditDisabled(true);\n    const requestBody = {\n      title,\n      category,\n      income\n    };\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.put(`${API_URL}/api/income/${incomeId}`, requestBody, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      // the api should return the updated object (income)\n      const updatedIncome = response.data;\n      setTitle(updatedIncome.title);\n      setCategory(updatedIncome.category);\n      setIncome(updatedIncome.income);\n    }).catch(error => console.log(error));\n  };\n\n  const deleteIncome = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.delete(`${API_URL}/api/income/${incomeId}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(() => {}).catch(err => console.log(err));\n  };\n\n  const toggleEdit = e => {\n    e.preventDefault();\n    setEditDisabled(false);\n  };\n\n  const changeTitle = e => {\n    e.preventDefault();\n    setTitle(e.target.value);\n  };\n\n  const changeIncome = e => {\n    e.preventDefault();\n    setIncome(e.target.value);\n  };\n\n  const changeCategory = e => {\n    setCategory(e.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-52 m-5  border-2 border-green-400  \",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          size: \"16\",\n          disabled: editDisabled,\n          value: title,\n          onChange: changeTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          maxlength: \"6\",\n          size: \"6\",\n          disabled: editDisabled,\n          value: income,\n          onChange: changeIncome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n        disabled: editDisabled,\n        placeholder: category,\n        options: [\"Salary\", \"Passive Income\", \"Inheritance\", \"Other\"],\n        value: category,\n        onChange: value => changeCategory(value),\n        onSelect: value => changeCategory(value),\n        onClose: closedBySelection => console.log(\"closedBySelection?:\", closedBySelection),\n        onOpen: () => console.log(\"open!\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), editDisabled ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleEdit,\n      children: \"Edit Income\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [editDisabled ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-green\",\n        onClick: submitIncome,\n        children: \"Submit Income\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), editDisabled ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-red\",\n        onClick: deleteIncome,\n        children: \"Delete Income\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(IncomeCard, \"rQdMuZ54iIUT3krD3mEByJTTzJc=\");\n\n_c = IncomeCard;\nexport default IncomeCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"IncomeCard\");","map":{"version":3,"names":["useState","axios","Dropdown","API_URL","IncomeCard","incomeTitle","incomeValue","incomeCategory","incomeId","editDisabled","setEditDisabled","title","setTitle","income","setIncome","category","setCategory","submitIncome","e","preventDefault","requestBody","storedToken","localStorage","getItem","put","headers","Authorization","then","response","updatedIncome","data","catch","error","console","log","deleteIncome","delete","err","toggleEdit","changeTitle","target","value","changeIncome","changeCategory","closedBySelection"],"sources":["/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Components/IncomeCard.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n\nimport { Dropdown } from \"react-dropdown-now\";\n\nconst API_URL = \"http://localhost:5005\";\n\n// We are deconstructing props object directly in the parentheses of the function\nfunction IncomeCard({\n  incomeTitle,\n\n  incomeValue,\n  incomeCategory,\n  incomeId,\n}) {\n  const [editDisabled, setEditDisabled] = useState(true);\n\n  const [title, setTitle] = useState(incomeTitle);\n  const [income, setIncome] = useState(incomeValue);\n  const [category, setCategory] = useState(incomeCategory);\n\n  const submitIncome = (e) => {\n    e.preventDefault();\n    setEditDisabled(true);\n\n    const requestBody = { title, category, income };\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .put(`${API_URL}/api/income/${incomeId}`, requestBody, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        // the api should return the updated object (income)\n        const updatedIncome = response.data;\n        setTitle(updatedIncome.title);\n        setCategory(updatedIncome.category);\n        setIncome(updatedIncome.income);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const deleteIncome = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .delete(`${API_URL}/api/income/${incomeId}`, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then(() => { })\n      .catch((err) => console.log(err));\n  };\n\n  const toggleEdit = (e) => {\n    e.preventDefault();\n    setEditDisabled(false);\n  };\n\n  const changeTitle = (e) => {\n    e.preventDefault();\n    setTitle(e.target.value);\n  };\n\n  const changeIncome = (e) => {\n    e.preventDefault();\n    setIncome(e.target.value);\n  };\n\n  const changeCategory = (e) => {\n    setCategory(e.value);\n  };\n\n  return (\n    <div className=\"w-52 m-5  border-2 border-green-400  \">\n      <form>\n        <div className=\"flex\">\n          <input  size=\"16\" disabled={editDisabled} value={title} onChange={changeTitle} />\n\n          <input  maxlength=\"6\"  size=\"6\" disabled={editDisabled} value={income} onChange={changeIncome} />\n        </div>\n        <Dropdown\n          disabled={editDisabled}\n          placeholder={category}\n          options={[\"Salary\", \"Passive Income\", \"Inheritance\", \"Other\"]}\n          value={category}\n          onChange={(value) => changeCategory(value)}\n          onSelect={(value) => changeCategory(value)}\n          onClose={(closedBySelection) =>\n            console.log(\"closedBySelection?:\", closedBySelection)\n          }\n          onOpen={() => console.log(\"open!\")}\n        />\n      </form>\n      {editDisabled ? <button onClick={toggleEdit}>Edit Income</button> : null}\n      <div className=\"flex\">\n      {editDisabled ? null : (\n        <button className=\"btn-green\" onClick={submitIncome}>Submit Income</button>\n      )}\n      {editDisabled ? null : (\n        <button className=\"btn-red\" onClick={deleteIncome}>Delete Income</button>\n      )}\n      </div>\n    </div>\n  );\n}\n\nexport default IncomeCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}