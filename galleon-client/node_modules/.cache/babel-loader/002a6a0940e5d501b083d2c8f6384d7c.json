{"ast":null,"code":"var _jsxFileName = \"/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Pages/EditIncome.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5005\";\n\nfunction EditIncomePage(props) {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [income, setIncome] = useState(0);\n  const [category, setCategory] = useState(\"\");\n  const {\n    incomeID\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.get(`${API_URL}/api/income/${incomeID}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      const oneIncome = response.data;\n      setTitle(oneIncome.title);\n      setDescription(oneIncome.description);\n      setIncome(oneIncome.income);\n      setCategory(oneIncome.category);\n    }).catch(error => console.log(error));\n  }, [incomeID]);\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    const requestBody = {\n      title,\n      description,\n      income,\n      category\n    };\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.put(`${API_URL}/api/income/${incomeID}`, requestBody, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      navigate(`/income/${incomeID}`);\n    });\n  };\n\n  const deleteIncome = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.delete(`${API_URL}/api/income/${incomeID}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(() => {\n      navigate(\"/income\");\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Edit the Income\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Income:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"income\",\n        value: income,\n        onChange: e => setIncome(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Category:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"category\",\n        value: category,\n        onChange: e => setCategory(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Income\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deleteIncome,\n      children: \"Delete Income\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditIncomePage, \"FROv3EBOSNnfwkG0x1s9QIDgP9E=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditIncomePage;\nexport default EditIncomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditIncomePage\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","API_URL","EditIncomePage","props","title","setTitle","description","setDescription","income","setIncome","category","setCategory","incomeID","navigate","storedToken","localStorage","getItem","get","headers","Authorization","then","response","oneIncome","data","catch","error","console","log","handleFormSubmit","e","preventDefault","requestBody","put","deleteIncome","delete","err","target","value"],"sources":["/Users/ececakmak/Documents/Ironhack/modules_3/Galleon/galleon-client/src/Pages/EditIncome.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:5005\";\n\nfunction EditIncomePage(props) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [income, setIncome] = useState(0);\n  const [category, setCategory] = useState(\"\");\n\n  const { incomeID } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .get(`${API_URL}/api/income/${incomeID}`, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        const oneIncome = response.data;\n        setTitle(oneIncome.title);\n        setDescription(oneIncome.description);\n        setIncome(oneIncome.income);\n        setCategory(oneIncome.category);\n      })\n      .catch((error) => console.log(error));\n  }, [incomeID]);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    const requestBody = { title, description, income, category };\n    const storedToken = localStorage.getItem(\"authToken\");\n\n    axios\n      .put(`${API_URL}/api/income/${incomeID}`, requestBody, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        navigate(`/income/${incomeID}`);\n      });\n  };\n\n  const deleteIncome = () => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .delete(`${API_URL}/api/income/${incomeID}`, {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then(() => {\n        navigate(\"/income\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div>\n      <h3>Edit the Income</h3>\n\n      <form onSubmit={handleFormSubmit}>\n        <label>Title:</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n\n        <label>Description:</label>\n        <textarea\n          name=\"description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        <label>Income:</label>\n        <textarea\n          name=\"income\"\n          value={income}\n          onChange={(e) => setIncome(e.target.value)}\n        />\n\n        <label>Category:</label>\n        <textarea\n          name=\"category\"\n          value={category}\n          onChange={(e) => setCategory(e.target.value)}\n        />\n\n        <button type=\"submit\">Update Income</button>\n      </form>\n\n      <button onClick={deleteIncome}>Delete Income</button>\n    </div>\n  );\n}\n\nexport default EditIncomePage;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAO,GAAG,uBAAhB;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;EAAA;;EAC7B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,CAAD,CAApC;EACA,MAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;EAEA,MAAM;IAAEgB;EAAF,IAAed,SAAS,EAA9B;EACA,MAAMe,QAAQ,GAAGd,WAAW,EAA5B;EAEAF,SAAS,CAAC,MAAM;IACd,MAAMiB,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB;IACAhB,KAAK,CACFiB,GADH,CACQ,GAAEhB,OAAQ,eAAcW,QAAS,EADzC,EAC4C;MACxCM,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASL,WAAY;MAAvC;IAD+B,CAD5C,EAIGM,IAJH,CAISC,QAAD,IAAc;MAClB,MAAMC,SAAS,GAAGD,QAAQ,CAACE,IAA3B;MACAlB,QAAQ,CAACiB,SAAS,CAAClB,KAAX,CAAR;MACAG,cAAc,CAACe,SAAS,CAAChB,WAAX,CAAd;MACAG,SAAS,CAACa,SAAS,CAACd,MAAX,CAAT;MACAG,WAAW,CAACW,SAAS,CAACZ,QAAX,CAAX;IACD,CAVH,EAWGc,KAXH,CAWUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAXpB;EAYD,CAdQ,EAcN,CAACb,QAAD,CAdM,CAAT;;EAgBA,MAAMgB,gBAAgB,GAAIC,CAAD,IAAO;IAC9BA,CAAC,CAACC,cAAF;IACA,MAAMC,WAAW,GAAG;MAAE3B,KAAF;MAASE,WAAT;MAAsBE,MAAtB;MAA8BE;IAA9B,CAApB;IACA,MAAMI,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB;IAEAhB,KAAK,CACFgC,GADH,CACQ,GAAE/B,OAAQ,eAAcW,QAAS,EADzC,EAC4CmB,WAD5C,EACyD;MACrDb,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASL,WAAY;MAAvC;IAD4C,CADzD,EAIGM,IAJH,CAISC,QAAD,IAAc;MAClBR,QAAQ,CAAE,WAAUD,QAAS,EAArB,CAAR;IACD,CANH;EAOD,CAZD;;EAcA,MAAMqB,YAAY,GAAG,MAAM;IACzB,MAAMnB,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB;IACAhB,KAAK,CACFkC,MADH,CACW,GAAEjC,OAAQ,eAAcW,QAAS,EAD5C,EAC+C;MAC3CM,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASL,WAAY;MAAvC;IADkC,CAD/C,EAIGM,IAJH,CAIQ,MAAM;MACVP,QAAQ,CAAC,SAAD,CAAR;IACD,CANH,EAOGW,KAPH,CAOUW,GAAD,IAAST,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CAPlB;EAQD,CAVD;;EAYA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAGE;MAAM,QAAQ,EAAEP,gBAAhB;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QACE,IAAI,EAAC,MADP;QAEE,IAAI,EAAC,OAFP;QAGE,KAAK,EAAExB,KAHT;QAIE,QAAQ,EAAGyB,CAAD,IAAOxB,QAAQ,CAACwB,CAAC,CAACO,MAAF,CAASC,KAAV;MAJ3B;QAAA;QAAA;QAAA;MAAA,QAFF,eASE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATF,eAUE;QACE,IAAI,EAAC,aADP;QAEE,KAAK,EAAE/B,WAFT;QAGE,QAAQ,EAAGuB,CAAD,IAAOtB,cAAc,CAACsB,CAAC,CAACO,MAAF,CAASC,KAAV;MAHjC;QAAA;QAAA;QAAA;MAAA,QAVF,eAgBE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBF,eAiBE;QACE,IAAI,EAAC,QADP;QAEE,KAAK,EAAE7B,MAFT;QAGE,QAAQ,EAAGqB,CAAD,IAAOpB,SAAS,CAACoB,CAAC,CAACO,MAAF,CAASC,KAAV;MAH5B;QAAA;QAAA;QAAA;MAAA,QAjBF,eAuBE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAvBF,eAwBE;QACE,IAAI,EAAC,UADP;QAEE,KAAK,EAAE3B,QAFT;QAGE,QAAQ,EAAGmB,CAAD,IAAOlB,WAAW,CAACkB,CAAC,CAACO,MAAF,CAASC,KAAV;MAH9B;QAAA;QAAA;QAAA;MAAA,QAxBF,eA8BE;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA9BF;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF,eAoCE;MAAQ,OAAO,EAAEJ,YAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QApCF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAwCD;;GA3FQ/B,c;UAMcJ,S,EACJC,W;;;KAPVG,c;AA6FT,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}